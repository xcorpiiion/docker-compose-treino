version: '3.8'

services:
  # O Maestro (Eureka) ğŸ©
  eureka:
    # BUILD CONTEXT (A Grande MudanÃ§a)
    # Em vez de 'image: mysql', usamos 'build'.
    # "../../eureka-docker" diz ao Docker: "Saia desta pasta e vÃ¡ na vizinha buscar o Dockerfile".
    build: ../../eureka-docker
    container_name: eureka-server
    ports:
      - "8761:8761"
    # NETWORK (A Sala VIP)
    # Colocamos nome na rede para garantir que os serviÃ§os se enxerguem.
    networks:
      - spring-cloud-network
    # Dica de saÃºde: O Eureka demora para subir.
    # O 'restart' garante que ele tente de novo se falhar no boot.
    restart: always

# A Rede (A Sala de ReuniÃ£o dos MicroserviÃ§os) ğŸŒ
networks:
  spring-cloud-network:
    driver: bridge